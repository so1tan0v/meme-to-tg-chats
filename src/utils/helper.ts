import { adminUserNames } from '../config/config';import * as stream from 'node:stream';import ffmpeg from 'fluent-ffmpeg';export function isAdmin(userName: string) {    return adminUserNames && adminUserNames.includes(userName);}export function getFileSizeToRead(size: number): string {    const result = `${size} Б`;    if (size <= 1024) return `${size.toFixed(2)} Б`;    size = size / 1024;    if (size <= 1024) return `${size.toFixed(2)} КБ`;    size = size / 1024;    if (size <= 1024) return `${size.toFixed(2)} МБ`;    size = size / 1024;    if (size <= 1024) return `${size.toFixed(2)} ГБ`;    size = size / 1024;    if (size <= 1024) return `${size.toFixed(2)} ТБ`;    size = size / 1024;    if (size <= 1024) return `${size.toFixed(2)} ПБ`;    return result;}export async function convertBufferToMp4(inputBuffer: Buffer): Promise<Buffer> {    const inputStream = new stream.PassThrough();    inputStream.end(inputBuffer);    const outputBuffer: Buffer[] = [];    return new Promise((resolve, reject) => {        ffmpeg(inputStream)            .videoCodec('libx264') // Конвертируем видео в H.264            .format('mp4')            .on('data', (chunk) => outputBuffer.push(chunk))            .on('end', () => resolve(Buffer.concat(outputBuffer)))            .on('error', reject)            .pipe();    });}